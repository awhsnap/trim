(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{242:function(e,t,n){var i=n(284);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(5).default)("6ffc4091",i,!0,{})},283:function(e,t,n){"use strict";var i=n(242);n.n(i).a},284:function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"\n.fileAttachment[data-v-b0867dd8] {\n  display: block;\n  position: relative;\n  padding: 0.5em;\n  padding-right: 4em;\n  overflow: hidden;\n  background-color: #fff;\n  border: 1px solid #dddddd;\n  border-radius: 0.3em;\n}\n.fileAttachment .mediaContainer[data-v-b0867dd8] {\n    width: 7em;\n    height: 5.25em;\n    line-height: 5.25em;\n    display: inline-block;\n    vertical-align: middle;\n    margin-right: 1.5em;\n    position: relative;\n    background-color: #f5f5f5;\n    border-radius: 0.3em;\n    text-align: center;\n}\n.fileAttachment .mediaContainer > img[data-v-b0867dd8] {\n      max-width: 7em;\n      max-height: 5.25em;\n      display: inline-block;\n      vertical-align: middle;\n      border-radius: 0.3em;\n}\n.fileAttachment .zoomInBtn[data-v-b0867dd8] {\n    -webkit-transition: opacity 0.3s;\n    -o-transition: opacity 0.3s;\n    transition: opacity 0.3s;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin: -2em 0 0 -2em;\n    width: 4em;\n    height: 4em;\n    background-color: rgba(0, 0, 0, 0.8);\n    border-radius: 50%;\n    opacity: 0;\n    color: #fff;\n}\n.fileAttachment .zoomInBtn[data-v-b0867dd8]:before {\n      font-size: 1.3em;\n}\n.fileAttachment .mediaContainer:hover > .zoomInBtn[data-v-b0867dd8] {\n    opacity: 1;\n}\n.fileAttachment .placeholderImage[data-v-b0867dd8] {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    color: #666666;\n}\n.fileAttachment .placeholderImage[data-v-b0867dd8]:before {\n      font-size: 1.8em;\n}\n.fileAttachment .placeholderImage.large[data-v-b0867dd8]:before {\n      font-size: 3em;\n}\n.fileAttachment .placeholderImage.interactive[data-v-b0867dd8] {\n      cursor: pointer;\n}\n.fileAttachment .textControls[data-v-b0867dd8] {\n    font-size: 1.7em;\n    display: inline-block;\n    vertical-align: middle;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    max-width: 50%;\n    color: #666666;\n    cursor: pointer;\n}\n.fileAttachment .dz-preview > div[data-v-b0867dd8] {\n    display: none;\n}\n.fileAttachment .dz-preview > .dz-progress[data-v-b0867dd8] {\n    display: block;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    height: 1px;\n    background-color: #E5E5E5;\n}\n.fileAttachment .dz-preview > .dz-progress > .dz-upload[data-v-b0867dd8] {\n      display: block;\n      height: 100%;\n      background-color: #e03431;\n}\n.fileAttachment .openBtn[data-v-b0867dd8]:hover, .fileAttachment .fileUploadHandle[data-v-b0867dd8]:hover {\n    color: #303030;\n}\n.fileAttachment .fileUploadHandle[data-v-b0867dd8] {\n    position: relative;\n    overflow: hidden;\n    cursor: pointer;\n}\n.fileAttachment .fileUploadHandle > input[data-v-b0867dd8] {\n      position: absolute;\n      z-index: 2;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      cursor: pointer;\n      opacity: 0;\n}\n.fileAttachment .removeBtn[data-v-b0867dd8], .fileAttachment .editBtn[data-v-b0867dd8], .fileAttachment .downloadBtn[data-v-b0867dd8] {\n    position: absolute;\n    right: 0;\n    top: 0;\n    bottom: 50%;\n    width: 3.5em;\n    height: auto;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    border-left: 1px solid #E5E5E5;\n    color: #b7b7b7;\n}\n.fileAttachment .removeBtn[data-v-b0867dd8]:hover, .fileAttachment .editBtn[data-v-b0867dd8]:hover, .fileAttachment .downloadBtn[data-v-b0867dd8]:hover {\n      color: #919191;\n}\n.fileAttachment .removeBtn[data-v-b0867dd8]:before, .fileAttachment .editBtn[data-v-b0867dd8]:before, .fileAttachment .downloadBtn[data-v-b0867dd8]:before {\n      font-size: 1.8em;\n}\n.fileAttachment .removeBtn[data-v-b0867dd8] {\n    top: 0;\n    bottom: 0;\n}\n.fileAttachment .removeBtn[data-v-b0867dd8]:before {\n      font-size: 1.8em;\n}\n.fileAttachment .fileName[data-v-b0867dd8] {\n    display: block;\n    font-size: 0.82353em;\n    margin-top: 0.35714em;\n    opacity: 0.5;\n}\n.fileAttachment .downloadBtn.fullSize[data-v-b0867dd8] {\n    bottom: 0;\n}\n.fileAttachment .downloadBtn + .removeBtn[data-v-b0867dd8] {\n    top: 50%;\n}\n@media screen and (min-width: 61.3125em) {\n.fileAttachment .mediaContainer[data-v-b0867dd8] {\n        width: 12em;\n        height: 9em;\n        line-height: 9em;\n}\n.fileAttachment .mediaContainer > img[data-v-b0867dd8] {\n          max-width: 12em;\n          max-height: 9em;\n}\n}\n@media screen and (min-width: 68.8125em) {\n.fileAttachment .textControls[data-v-b0867dd8] {\n        max-width: 70%;\n}\n}\n",""])},327:function(e,t,n){"use strict";n.r(t);var i=n(9),a=n(3),o=n(0),l=n(2),d=n(10),r=n(279),c=n.n(r),s=a.a.extend({components:{ElementWrapper:d.a},mixins:[i.a],props:{value:{type:String,default:""},acceptedFiles:{type:String,default:""},mapThumbnailTo:{type:String,required:!0},mapCurrentFileUrlTo:{type:String,required:!0},addFileCaption:{type:String,default:function(){return Object(l.a)("formElements.fileAttachment.addFileCaption")}},changeFileCaption:{type:String,default:function(){return Object(l.a)("formElements.fileAttachment.changeFileCaption")}}},data:function(){return{savesFile:!0,clientThumbnail:void 0,selectedFile:void 0}},computed:{thumbnailUrl:function(){return this.clientThumbnail?this.clientThumbnail:this.selectedFile?void 0:this.resourceModel.get(this.mapThumbnailTo)},fileUrl:function(){return this.resourceModel.get(this.mapCurrentFileUrlTo)},selectedFileName:function(){return this.selectedFile&&this.selectedFile.name},textControlCaption:function(){return this.selectedFile||this.fileUrl?this.changeFileCaption:this.addFileCaption}},methods:{getFile:function(){return this.selectedFile},processFile:function(e){var t=e.target,n=Array.from(t.files)[0];n.type.search("image")>=0?this.processImage(n):(this.clientThumbnail=void 0,this.setFile(n))},processImage:function(e){var t=this;c.a.parseMetaData(e,function(n){c()(e,function(e){e.toBlob(function(e){t.clientThumbnail=URL.createObjectURL(e)},"image/jpeg")},{canvas:!0,orientation:n.exif.get("Orientation"),maxWidth:240}),c()(e,function(e){e.toBlob(function(e){t.setFile(e)},"image/jpeg")},{canvas:!0,orientation:n.exif.get("Orientation")})})},setFile:function(e){this.selectedFile=e},removeSelectedFile:function(){this.clientThumbnail=void 0,this.selectedFile=void 0}}});Object(o.a)(s,{getElementType:function(){return"fileAttachment"},getDefaultValue:function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value||"").toString()}});var m=s,h=(n(283),n(1)),f=Object(h.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("element-wrapper",e._b({attrs:{renderInputWrapper:!1}},"element-wrapper",e.elementWrapperProps,!1),[n("div",e._b({},"div",e.inputWrapperAttributes,!1),[n("div",{staticClass:"mediaContainer"},[e.thumbnailUrl?[n("img",{attrs:{src:e.thumbnailUrl}}),e._v(" "),n("a",{staticClass:"nBtn icr iconMaximize",attrs:{href:e.fileUrl}})]:n("button",{staticClass:"nBtn fileUploadClickable placeholderImage icr",class:{"iconFile large":e.selectedFile||e.fileUrl,iconPlus:!e.selectedFile&&!e.fileUrl},attrs:{type:"button"}})],2),e._v(" "),n("div",{staticClass:"textControls"},[n("span",{staticClass:"fileUploadHandle"},[e._v("\n                "+e._s(e.textControlCaption)+"\n                "),e.selectedFileName?n("span",{staticClass:"fileName"},[e._v(e._s(e.selectedFileName))]):e._e(),e._v(" "),n("input",{attrs:{type:"file",accept:e.acceptedFiles},on:{input:e.processFile}})])]),e._v(" "),!e.fileUrl||e.thumbnailUrl||e.selectedFile?e._e():n("a",{staticClass:"downloadBtn nBtn icr iconDownload",class:{fullSize:!e.selectedFile},attrs:{href:e.fileUrl,target:"_blank"}}),e._v(" "),e.selectedFile?n("button",{staticClass:"removeBtn nBtn icr iconRotateCcw",attrs:{type:"button"},on:{click:e.removeSelectedFile}}):e._e()])])},[],!1,null,"b0867dd8",null);f.options.__file="fileAttachment.vue";t.default=f.exports}}]);