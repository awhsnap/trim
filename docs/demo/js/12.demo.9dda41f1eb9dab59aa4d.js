(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{235:function(t,e,n){var a=n(263);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(4).default)("79690624",a,!0,{})},262:function(t,e,n){"use strict";var a=n(235);n.n(a).a},263:function(t,e,n){(t.exports=n(3)(!1)).push([t.i,'\n@charset "UTF-8";\n.stateSelectElement[data-v-aaec119e] {\n  display: inline-block;\n  position: relative;\n  background-color: #fff;\n  border: 1px solid #dddddd;\n  border-radius: 0.3em;\n  overflow: hidden;\n}\n.stateSelectElement.withNoOptions[data-v-aaec119e] {\n    background-color: #f9f9f9;\n}\n.stateSelectElement.fullWidth[data-v-aaec119e] {\n    display: block;\n}\n.stateSelectElement .stateCaption[data-v-aaec119e] {\n    font-size: 1.4em;\n    padding: 0.57143em 0.71429em;\n}\n.stateSelectElement .stateCaption > span[data-v-aaec119e] {\n      -webkit-animation: slideDownFadeIn 0.5s;\n              animation: slideDownFadeIn 0.5s;\n      display: block;\n}\n.stateSelectElement .select[data-v-aaec119e] {\n    -webkit-animation: slideDownFadeIn 0.5s;\n            animation: slideDownFadeIn 0.5s;\n    display: inline-block;\n    position: relative;\n    width: 100%;\n}\n.stateSelectElement .select[data-v-aaec119e]:before {\n      font-family: "cmsIconFont";\n      speak: none;\n      font-style: normal;\n      font-weight: normal;\n      font-variant: normal;\n      text-transform: none;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      position: absolute;\n      left: 0;\n      top: 50%;\n      margin: 0;\n      width: 30px;\n      height: 30px;\n      line-height: 30px;\n      margin-top: -15px;\n      text-align: center;\n      text-indent: 0;\n      content: "\\E92E";\n      left: auto;\n      right: 0;\n      font-size: 1.2em;\n      color: #e03431;\n}\n.stateSelectElement .select > button[data-v-aaec119e] {\n      margin: 0;\n      padding: 0;\n      border: 0;\n      cursor: pointer;\n      background: none;\n      font-size: 1.4em;\n      padding: 0.57143em 2.14286em 0.57143em 0.71429em;\n      color: #303030;\n      opacity: 0.7;\n}\n.stateSelectElement .select > button[data-v-aaec119e]::-moz-focus-inner {\n        padding: 0;\n        border: 0;\n}\n.stateSelectElement .select > select[data-v-aaec119e] {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      cursor: pointer;\n      opacity: 0;\n      font-size: 1.6em;\n}\n.stateSelectElement .select.fullWidth[data-v-aaec119e] {\n      display: block;\n}\n.stateSelectElement .select.disabled[data-v-aaec119e] {\n      opacity: 0.5;\n}\n.stateSelectElement .controls[data-v-aaec119e] {\n    display: table;\n    width: 100%;\n    background-color: #f9f9f9;\n    border-top: 1px solid #dddddd;\n}\n.stateSelectElement .updateBtn[data-v-aaec119e] {\n    display: table-cell;\n    vertical-align: middle;\n    font-size: 1.2em;\n    padding: 0.83333em 0.83333em;\n    color: #666666;\n    text-transform: uppercase;\n    letter-spacing: 0.03em;\n    border-left: 1px solid #dddddd;\n}\n.stateSelectElement .updateBtn[data-v-aaec119e]:hover {\n      color: #e03431;\n}\n.stateSelectElement .selectContainer[data-v-aaec119e] {\n    width: 100%;\n    display: table-cell;\n    vertical-align: middle;\n}\n',""])},329:function(t,e,n){"use strict";n.r(e);var a=n(9),i=n(0),s=n(2),o=n(10),r=n(14),l={elementType:"stateSelect",components:{ElementWrapper:o.a},mixins:[a.a],props:{value:[String,Boolean,Number],updateEntityOnChange:{type:Boolean,default:!1},updateControlCaption:{type:String,default:function(){return Object(s.a)("formElements.stateSelect.updateControlCaption")}},nextStatePlaceholderCaption:{type:String,default:function(){return Object(s.a)("formElements.stateSelect.nextStatePlaceholderCaption")}},states:{type:Array,required:!0}},data:function(){return{currentState:this.getStateFromValue(this.value)}},getInitialValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0!==t.value?t.value:t.states[0].value},created:function(){if(this.updateEntityOnChange&&(!this.resourceModel||this.resourceModel&&this.resourceModel.isNew()))throw new Error("Existing resource model required for state select in live update mode")},beforeUpdate:function(){this.syncCurrentStateToModel()},computed:{selectableOptions:function(){var t=this;if("all"===this.currentState.transitions){var e=this.states.map(function(e){return t.getStateKey(e)}).filter(function(e){return e!==t.getStateKey(t.currentState)});return this.getTransitionsOptions(e)}return this.getTransitionsOptions(this.currentState.transitions||[])},selectValue:function(){var t=this;if(this.updateEntityOnChange){var e=Object(i.m)(this.selectableOptions,function(e){return e.value===t.value});return e?e.value:this.selectableOptions.length&&this.selectableOptions[0].value}return this.value},selectCaption:function(){var t=this;if(this.selectValue){var e=Object(i.m)(this.selectableOptions,function(e){return e.value===t.selectValue});return e&&e.caption||""}return""},inputWrapperAttributes:function(){var t=this.normalizeAttributes(this.attributes.inputWrapper);return 0===this.selectableOptions.length&&this.addToAttribute(t,"class","withNoOptions"),t}},methods:{syncCurrentStateToModel:function(){if(this.resourceModel){var t=this.resourceModel.get(this.name);void 0!==t&&(this.currentState=this.getStateFromValue(t))}},getStateKey:function(t){return t.name||t.value},getStateFromValue:function(t){return Object(i.m)(this.states,function(e){return e.value===t})},persistState:function(){var t=this;r.b.create().setId(this.resourceModel.get("id")).setType(this.resourceModel.getType()).saveAttribute(this.name,this.selectValue).then(function(e){var n=e.get(t.name);t.resourceModel.setAttribute(t.name,n),t.$emit("input",n),t.currentState=t.getStateFromValue(n)})},getTransitionsOptions:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){var n=t.states.find(function(n){return t.getStateKey(n)===e});return{caption:n.actionCaption||n.caption,value:n.value}});return!this.updateEntityOnChange&&e.length&&e.unshift({caption:this.nextStatePlaceholderCaption,value:this.currentState.value}),e}}},c=(n(262),n(1)),u=Object(c.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("element-wrapper",t._b({attrs:{renderInputWrapper:!1}},"element-wrapper",t.elementWrapperProps,!1),[n("div",t._b({staticClass:"stateSelectElement"},"div",t.inputWrapperAttributes,!1),[n("p",{staticClass:"stateCaption"},[n("span",[t._v(t._s(t.currentState.caption))])]),t._v(" "),t.selectableOptions.length?n("div",{staticClass:"controls"},[n("div",{staticClass:"selectContainer"},[n("div",{staticClass:"select"},[n("button",{attrs:{type:"button"}},[t._v("↳  "+t._s(t.selectCaption))]),t._v(" "),n("select",{domProps:{value:t.selectValue},on:{input:t.processInputEvent}},t._l(t.selectableOptions,function(e,a){return n("option",{key:a,domProps:{value:e.value}},[t._v(t._s(e.caption))])}))])]),t._v(" "),t.updateEntityOnChange?n("button",{staticClass:"updateBtn nBtn",attrs:{type:"button"},on:{click:t.persistState}},[t._v(t._s(t.updateControlCaption))]):t._e()]):t._e()])])},[],!1,null,"aaec119e",null);u.options.__file="stateSelect.vue";e.default=u.exports}}]);