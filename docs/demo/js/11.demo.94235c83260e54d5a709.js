(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{248:function(e,t,n){var a=n(304);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(4).default)("4cebf8fb",a,!0,{})},303:function(e,t,n){"use strict";var a=n(248);n.n(a).a},304:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".pagePreviewType1 > .controls[data-v-570042fe] {\n  padding: 2em;\n}\n.pagePreviewType1 .sizeControls[data-v-570042fe] {\n  display: inline-block;\n  vertical-align: middle;\n  border: 1px solid #777;\n  border-radius: 0.3em;\n}\n.pagePreviewType1 .sizeControls > button[data-v-570042fe] {\n    -webkit-transition: color 0.3s;\n    -o-transition: color 0.3s;\n    transition: color 0.3s;\n    font-size: 1.3em;\n    padding: 0.30769em 1.53846em;\n    color: #777;\n}\n.pagePreviewType1 .sizeControls > button[data-v-570042fe]:not(:first-child) {\n      border-left: 1px solid #777;\n}\n.pagePreviewType1 .sizeControls > button.active[data-v-570042fe], .pagePreviewType1 .sizeControls > button[data-v-570042fe]:hover {\n      color: #fff;\n}\n.pagePreviewType1 .previewUrl[data-v-570042fe] {\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  max-width: 45%;\n  display: inline-block;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n     text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  font-size: 1.4em;\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 1.42857em;\n  width: 45%;\n  color: #777;\n  border: 0;\n  background: transparent;\n}\n.pagePreviewType1 > .pageContainerWrap[data-v-570042fe] {\n  position: absolute;\n  left: 2em;\n  right: 2em;\n  top: 6.8em;\n  bottom: 0;\n}\n.pagePreviewType1 .pageContainer[data-v-570042fe] {\n  -webkit-transition: width 0.5s;\n  -o-transition: width 0.5s;\n  transition: width 0.5s;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  -webkit-box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.4);\n          box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.4);\n}\n.pagePreviewType1 .pageContainer > iframe[data-v-570042fe] {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n}\n",""])},319:function(e,t,n){"use strict";n.r(t);var a=n(5),i=n(15),o=n(94);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=a.a.extend({props:{className:{type:String,default:"pagePreviewType1"},url:{type:String,required:!0},screenSizes:{type:Array,default:function(){return[320,728,1024,1300]}}},data:function(){return{currentSize:"100%"}},computed:{parsedScreenSizes:function(){return[{caption:"100%",size:"100%"}].concat(this.screenSizes.map(function(e){return"object"===r(e)?e:"number"==typeof e?{caption:e.toString(),size:e+"px"}:"string"==typeof e?{caption:e,size:e}:void 0}))}},methods:{setSize:function(e){this.currentSize=e}}});var l=s,p=(n(303),n(1));Object(p.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{class:e.className},[n("div",{staticClass:"controls"},[n("div",{staticClass:"sizeControls"},e._l(e.parsedScreenSizes,function(t){return n("button",{key:t.size,staticClass:"nBtn",class:{active:t.size===e.currentSize},attrs:{type:"button"},on:{click:function(n){return e.setSize(t.size)}}},[e._v(e._s(t.caption))])}),0),e._v(" "),n("input",{staticClass:"previewUrl",attrs:{disabled:"disabled",type:"text"},domProps:{value:e.url}})]),e._v(" "),n("div",{staticClass:"pageContainerWrap"},[n("div",{staticClass:"pageContainer",style:{width:e.currentSize}},[n("iframe",{attrs:{src:e.url,frameborder:"0"}})])])])},[],!1,null,"570042fe",null).exports,t.default={resourceName:"page",resourceCaption:"title",setupList({list:e}){this.addCreateControl("Create new page"),e.addFilter([["TextFormElement",{name:"title",label:"Title"}],["DateFormElement",{name:"publishDate",label:"Date"}],["SelectFormElement",{name:"published",label:"Status",selectOptions:[{caption:"All pages",value:""},{caption:"Published",value:"true"},{caption:"Unpublished",value:"false"}]}],["SelectFormElement",{name:"author",label:"Author",selectOptions:{resource:"user",mapCaptionTo:"email",prepend:[{caption:"All",value:""}]}}],["ExternalAdminFormElement",{name:"tags",label:"Tags",mapCaptionTo:"title",relation:{type:"hasOne",resourceName:"tag"}}],["CheckboxFormElement",{name:"special",label:"Special"}]]),e.addMassAction([{caption:"Publish",updateAttributes:{published:!0},updateMessage:{success:e=>"Total tems published: "+e.resolutions.length,error:e=>"Failed to publish: "+e.rejections.length}},{caption:"Unpublish",updateAttributes:{published:!1}},{caption:"Delete",action:e=>e.destroy(),confirm:!0,updateMessage:{success:"All selected items are deleted"}}]),e.addSort([{label:"By title",field:"-title"},{label:"By date",field:"-date"}]),e.addItem("TextListItem",{caption:"ID",mapTo:"id",addIf:this.screenIsLarge}),e.addItem("LinkListItem",{caption:"Title",mapTo:"title",action:"editItem"}),e.addItem("DateListItem",{caption:"Date",mapTo:"publishDate",ifEmpty:e=>"Date for page "+e.get("id")+" not set."}),e.addItem({Type:"DateTimeListItem",options:{caption:"Date and time",mapTo:"publishDate",ifEmpty:"Date time not set"}}),e.addItem([["TextListItem",{caption:"Author",mapTo:"author.email"}],{Type:"TextListItem",options:{caption:"Tags",mapTo:"tags.title",ifEmpty:'<span style="opacity: 0.5">No tags</span>'}}]),e.addItem("BlipListItem",{caption:"Published",mapTo:"published"}),e.addItem("ButtonListItem",{caption:"View",useIcon:"externalLink",action:e=>(function(e){return e="string"==typeof e?{url:e}:e,Object(o.a)({component:s,props:e,dark:!0,parent:e.parent||i.a.rootView})})("https://trikoder.github.io/trim/"),addIf:this.screenIsLarge}),e.addItem("ContextMenuListItem",{caption:"Actions",items:[{caption:"Edit",action:"editItem"},{caption:"Delete",action:"deleteItem",confirm:!0},{caption:e=>e.get("published")?"Unpublish":"Publish",updateAttributes:e=>({published:!e.get("published")})}]})},setupEdit({edit:e}){this.addToIndexControl().addSaveControl(),e.addField("TextFormElement",{label:"Title",name:"title",attributes:{input:{class:"inputType2 size2 fontBold"}},layoutReference:"mainRegion"}),e.addField("MultipleSelectFormElement",{name:"tags",label:"Tags",relation:{type:"hasMany",resourceName:"tag"},selectOptions:{resource:"tag",mapCaptionTo:"title"},layoutReference:"mainRegion"}),e.addField("HtmlFormElement",{label:"Body text",name:"bodyText",layoutReference:"mainRegion"}),e.addField("ExternalAdminFormElement",{name:"author",label:"Author",mapCaptionTo:"email",relation:{type:"hasOne",resourceName:"user"},layoutReference:"sideRegion"}),e.addField("DateTimeFormElement",{name:"publishDate",label:"Date",layoutReference:"sideRegion"}),e.addField("ColorFormElement",{name:"pageColor",label:"Page color",layoutReference:"sideRegion"}),e.addField("NumberFormElement",{name:"rank",label:"Page rank",layoutReference:"sideRegion"})}}}}]);